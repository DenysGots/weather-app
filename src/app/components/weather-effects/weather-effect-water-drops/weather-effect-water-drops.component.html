<div class="app-weather-effect-water-drops__container">
  <ng-container *ngFor="let drop of drops">
    <div
      *ngIf="shouldRenderDrop(drop)"
      @enterLeaveTrigger
      class="app-weather-effect-water-drops__drop"
      [ngClass]="getCurrentBackgroundClass()"
      [ngStyle]="{
        'top.px': drop.yPosition,
        'left.px': drop.xPosition,
        'width.px': drop.dropWidth,
        'height.px': drop.dropHeight,
        'background-position': drop.backgroundPosition,
        'background-size': drop.backgroundSize
      }"
    >
      <div
        @enterLeaveTrigger
        *ngIf="isWeather('foggy') || isWeather('cloudy')"
        class="app-weather-effect-water-drops__background app-weather-effect-water-drops__fog-background"
      >
      </div>

      <div
        @enterLeaveTrigger
        *ngIf="isWeather('cloudy') && isOvercast('medium') && isTimeOfDay('day')"
        class="app-weather-effect-water-drops__background app-weather-effect-water-drops__clouds-day-medium-background"
      >
      </div>

      <div
        @enterLeaveTrigger
        *ngIf="isWeather('cloudy') && isOvercast('heavy') && isTimeOfDay('day')"
        class="app-weather-effect-water-drops__background app-weather-effect-water-drops__clouds-day-heavy-background"
      >
      </div>

      <div
        @enterLeaveTrigger
        *ngIf="isWeather('cloudy') && isOvercast('medium') && isTimeOfDay('night')"
        class="app-weather-effect-water-drops__background app-weather-effect-water-drops__clouds-night-medium-background"
      >
      </div>

      <div
        @enterLeaveTrigger
        *ngIf="isWeather('cloudy') && isOvercast('heavy') && isTimeOfDay('night')"
        class="app-weather-effect-water-drops__background app-weather-effect-water-drops__clouds-night-heavy-background"
      >
      </div>
    </div>
  </ng-container>

  <ng-container *ngFor="let drop of drops">
    <div
      *ngIf="shouldRenderDrop(drop)"
      @enterLeaveTrigger
      class="app-weather-effect-water-drops__border"
      [ngStyle]="{
        'top.px': drop.yPosition,
        'left.px': drop.xPosition,
        'width.px': drop.borderWidth,
        'height.px': drop.borderHeight
      }"
    >
    </div>
  </ng-container>
</div>
